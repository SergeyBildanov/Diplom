## О проекте

Реализован с использованием Laravel, React, Vite, Endroid QRCode

## Как запустить

1. Открыть терминал
2. Ввести команду: composer install
3. Ввести команду: npm install
4. Ввести команлу: npm run build
5. Ввести команду php artisan migrate
6. Ввести команду php artisan serve

## Как войти в учетную запись администратора:
### УЗ Администратора:

Можно создать свою учетную запись, пройдя регистрацию на localhost:8000/register

## Сущности
### Зал
Поля:
* number (Номер зала, являющийся его наименованием)
* seats (Конфигурация мест в зале)
* standartCosts (Цена за обычное место в рублях)
* vipCosts (Цена за VIP место в рублях)
* isActive (Показывает открыт ли зал для продажи билетов)
Отношения:
* seances (Хранит все сеансы, проходящие в данном зале)
### Фильм
Поля:
* name (Наименование фильма)
* info (Описание фильма)
* poster (Путь к постеру для фильма)
* length (Длительности фильма в минутах)
* origin (Страна производства)
Отношения:
* seances (Хранит все сеансы данного фильма)
### Сеанс
Поля:
* hall (Номер зала, в котором проходит сеанс)
* movie (Наименование фильма сеанса)
* day (День сеанса в виде ГГГГ-ММ-ДД)
* start (Время начала сеанса в виде ЧЧ:ММ)
* finish (Время завершения сеанса)
Отношения:
* fullHall (Хранит полную информацию о зале сеанса)
* fullMovie (Хранит полную информацию о фильме сеанса)

## Устройство административной части сайта

### Создание зала

В первом разделе административной части сайта можно добавлять залы по нажатию кнопки "Создать зал". Создается зал с наименьшим доступным номером, учитывается то, что наименьший номер может предшествовать существующим залам.

### Конфигурация мест

Конфигурация мест работает со значением поля seats зала. Используется компонент React, принимающий в качестве состояния значение поля seats выбранного зала. Любые действия с данным компонентом меняют его состояние, при выборе нового зала без сохранения действий с предыдущим, все изменения сбрасываются.

### Конфигурация цен за место

Реализована с помощью формы, записывающей переданные формой значения в поля standartCosts и vipCosts выбранного зала. 

### Добавление фильмов

Реализовано с помощью формы, с помощью переданных значений фильм добавляется в базу данных.

### Планирование сеансов

Реализовано с помощью формы, с помощью переданных значений планируется новый сеанс. На сервере время начала сеанса проверяется на предмет наложения с соседними друг на друга, чтобы исключить ситуацию прохождения двух сеансов в одном зале. Форма позволяет добавлять сеансы до своего закрытия. Форма планирования сеансов вызывается по клику на таймлайн зала на определеный день. День можно менять кнопками ">>" и "<<". По клику на сеанс он удаляется с таймлайна и из базы данных.

### Открытие зала

По умолчанию, залы создаются закрытыми, что делает их доступными к настройке. Выбрав зал в данном разделе можно нажать кнопку "Открыть продажу билетов". Для данного зала будет запрещено какое-либо изменение, а сеансы в данном зале будут доступны для бронирования.

## Устройство пользовательской части сайта

## Выбор сеанса

При выборе дня, все фильмы, у которых назначены сеансы выгружаются списком. Внутри карточки фильма есть список сеансов с указанием времени начала. При нажатии на одну из ссылок, пользователь переходит на страницу бронирования мест.

## Бронирование мест

При переходе на страницу открывается схема мест для бронировки. По клику на место можно его выбрать для бронировки. Повторный клик снимает выбор. Выбрав места для бронирования пользователь нажимает на кнопку "Забронировать" и переходит на страницу оплаты билета. Учтена ситуация отсутствия выбора мест, в таком случае кнопка останется неактивной.

## Оплата билета

При нажатии на кнопку "Получить код бронирования" генерируется QR-код, который содержит:

1. Наименование фильма
2. Время начала сеанса
3. Номер зала
4. Список забронированных мест